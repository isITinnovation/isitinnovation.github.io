# 교사구분별 상담기록 분석 시스템

React로 개발된 교사구분별 상담기록 분석 웹 애플리케이션입니다. **Web Workers와 스트리밍 처리를 통해 대용량 엑셀 파일(150MB+)도 안전하게 처리**할 수 있습니다.

## 🚀 주요 기능

- **대용량 파일 지원**: Web Workers를 사용하여 150MB 이상의 엑셀 파일도 안전하게 처리
- **메모리 효율적**: 스트리밍 방식으로 청크 단위 처리하여 메모리 사용량 최적화
- **실시간 진행률**: 파일 처리 과정을 실시간으로 모니터링
- **엑셀 파일 업로드**: .xlsx, .xls 형식의 상담기록 엑셀 파일을 드래그 앤 드롭 또는 파일 선택으로 업로드
- **교사구분별 분석**: 교사구분별로 상담 건수, 상담시간, 녹취구분, 통화자 예측 등을 분석
- **시각화**: 차트와 그래프를 통한 직관적인 데이터 시각화
- **상세 통계**: 교사구분별 상세 통계 정보 제공
- **처리 취소**: 긴 처리 시간이 예상될 때 취소 가능

## 🛠️ 기술 스택

- **Frontend**: React 18
- **차트 라이브러리**: Recharts
- **엑셀 처리**: SheetJS (Web Worker에서 CDN으로 로드)
- **Web Workers**: 대용량 파일 처리를 위한 백그라운드 스레드
- **스타일링**: CSS3 + 반응형 디자인

## 📊 지원하는 엑셀 컬럼

- **상담사ID**: 상담을 진행한 상담사 식별자
- **교사 구분**: 학년별 성과 수준 (예: 1학년 상위자, 2학년 하위자, 3학년 평균 등)
- **통화길이(초)**: 상담 통화 시간 (초 단위)
- **상담시간구분**: 상담이 진행된 시간대 구분
- **STT 텍스트**: 음성인식으로 변환된 상담 내용 텍스트

### 교사 구분 예시

- 1학년 상위자, 1학년 하위자, 1학년 평균
- 2학년 상위자, 2학년 하위자, 2학년 평균
- 3학년 상위자, 3학년 하위자, 3학년 평균
- 4학년 상위자, 4학년 하위자, 4학년 평균
- 5학년 상위자, 5학년 하위자, 5학년 평균
- 6학년 상위자, 6학년 하위자, 6학년 평균

## 🚀 설치 및 실행

### 1. 의존성 설치

```bash
npm install
```

### 2. 개발 서버 실행

```bash
npm start
```

### 3. 브라우저에서 확인

http://localhost:3000 에서 애플리케이션을 확인할 수 있습니다.

## 📖 사용법

1. **파일 업로드**: 엑셀 파일을 드래그 앤 드롭하거나 "파일 선택" 버튼을 클릭하여 업로드
2. **진행률 모니터링**: 파일 처리 과정을 실시간으로 확인
3. **데이터 분석**: 업로드된 파일이 자동으로 분석되어 결과가 표시됩니다
4. **결과 확인**:
   - 전체 요약 통계 (총 상담 건수, 총 상담시간, 평균 통화길이)
   - 교사구분별 상담 건수 및 평균 통화길이 차트
   - 상담시간구분별 분포 파이 차트
   - 상담사ID별 분포 파이 차트
   - 교사구분별 상세 통계 (카드 클릭 시 확장)
     - 상담 건수, 평균/총 통화길이, 최소/최대 길이
     - 평균 STT 텍스트 길이
     - 상담시간구분별 분포
     - 상담사ID별 분포

## ⚡ 성능 최적화

### Web Workers 활용

- 메인 스레드 블로킹 방지
- 대용량 파일 처리 시에도 UI 반응성 유지
- 백그라운드에서 안전한 데이터 처리

### 메모리 효율성

- 청크 단위 처리 (5,000행씩)
- 스트리밍 방식으로 데이터 로드
- 불필요한 메모리 할당 최소화

### 사용자 경험

- 실시간 진행률 표시
- 처리 취소 기능
- 직관적인 상태 표시

## 📁 프로젝트 구조

```
src/
├── components/
│   ├── FileUpload.js          # 파일 업로드 컴포넌트 (Web Worker 통합)
│   ├── FileUpload.css
│   ├── AnalysisResults.js     # 분석 결과 표시 컴포넌트
│   └── AnalysisResults.css
├── utils/
│   └── dataAnalyzer.js        # 데이터 분석 유틸리티 (사용하지 않음)
├── App.js                     # 메인 앱 컴포넌트
├── App.css
├── index.js                   # 앱 진입점
└── index.css                  # 전역 스타일

public/
└── dataWorker.js              # Web Worker 스크립트
```

## 🔧 빌드

프로덕션 빌드를 위해 다음 명령어를 실행하세요:

```bash
npm run build
```

## ⚠️ 주의사항

- **브라우저 지원**: Web Workers를 지원하는 최신 브라우저 필요
- **파일 크기**: 이론적으로는 제한이 없지만, 브라우저 메모리 한계 내에서 처리
- **처리 시간**: 파일 크기에 비례하여 처리 시간 증가 (대용량 파일의 경우 수 분 소요 가능)

## 🐛 문제 해결

### 파일 업로드가 멈춘 경우

1. 브라우저 새로고침
2. 더 작은 파일로 테스트
3. 다른 브라우저로 시도

### 메모리 부족 오류

1. 브라우저 탭 닫기 및 재시작
2. 시스템 메모리 확인
3. 파일을 더 작은 단위로 분할

## 📄 라이선스

이 프로젝트는 MIT 라이선스 하에 배포됩니다.
